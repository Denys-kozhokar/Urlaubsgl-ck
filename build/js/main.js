function getXmlHttp(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e||"undefined"==typeof XMLHttpRequest||(e=new XMLHttpRequest),e}function getPictures(e){var t=getXmlHttp(),r="3545825-c60bc71ac0a2a71abd3e36913",n="https://pixabay.com/api/?key="+r+"&per_page=7";e&&(n+="&q="+e),t.open("GET",n,!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&this.status<400){var e=JSON.parse(t.responseText);console.log(e);for(var r=document.querySelectorAll(".grid__item"),n=0,a=r.length;n<a;n++){var i=e.hits[n].webformatURL,o='<p class="grid__title">'+e.hits[n].tags+"</p>",c='url("'+i+'")';r[n].innerHTML=o,r[n].style.backgroundImage=c}masonry()}},t.send(null)}function masonry(){var e,t=document.querySelector(".grid");e=new Masonry(t,{columnWidth:".grid__sizer",gutter:".grid__gutter",itemSelector:".grid__item",percentPosition:!0})}function searchPictures(e){var t=document.querySelector(".discover__input");getPictures(t.value),t.value="",e.preventDefault?e.preventDefault():e.returnValue=!1}function initSlider(){for(var e=document.querySelectorAll(".carousel__arrow--left"),t=document.querySelectorAll(".carousel__arrow--right"),r=0;r<e.length;r++)e[r].onclick=slider.left;for(var r=0;r<t.length;r++)t[r].onclick=slider.right}!function(e){var t,r=function(e){a=!1,r.isReady=!1,"function"==typeof e&&(i=e),c()},n=e.document,a=!1,i=function(){};r.isReady=!1;var o=function(){if(!r.isReady){if(!n.body)return void setTimeout(o,13);r.isReady=!0,i()}},c=function(){if(!a)if(a=!0,"complete"===n.readyState&&o(),n.addEventListener)n.addEventListener("DOMContentLoaded",t,!1),e.addEventListener("load",t,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",t),e.attachEvent("onload",t);var r=!1;try{r=null==e.frameElement}catch(e){}n.documentElement.doScroll&&r&&s()}},s=function(){if(!r.isReady){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(s,1)}o()}};n.addEventListener?t=function(){n.removeEventListener("DOMContentLoaded",t,!1),o()}:n.attachEvent&&(t=function(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",t),o())}),e.$=r}(window);var slider={left:function(){var e=this.parentElement.querySelector(".carousel__holder"),t=parseInt(getComputedStyle(e).marginLeft),r=parseInt(getComputedStyle(e).width),n=Math.round(Math.abs(t/r*10));switch(n){case 0:e.style.marginLeft="-200%";break;case 3:e.style.marginLeft="0%";break;case 7:e.style.marginLeft="-100%"}},right:function(){var e=this.parentElement.querySelector(".carousel__holder"),t=parseInt(getComputedStyle(e).marginLeft),r=parseInt(getComputedStyle(e).width),n=Math.round(Math.abs(t/r*10));switch(n){case 0:e.style.marginLeft="-100%";break;case 3:e.style.marginLeft="-200%";break;case 7:e.style.marginLeft="0"}}};$(function(){getPictures();initSlider();var e=document.querySelector(".discover__button");e.onclick=searchPictures});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2V0WG1sSHR0cCIsInhtbGh0dHAiLCJBY3RpdmVYT2JqZWN0IiwiZSIsIkUiLCJYTUxIdHRwUmVxdWVzdCIsImdldFBpY3R1cmVzIiwid29yZCIsImtleSIsInVybCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidGhpcyIsInBpY3R1cmVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiY29uc29sZSIsImxvZyIsImdyaWRJdGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJzcmMiLCJoaXRzIiwid2ViZm9ybWF0VVJMIiwidGFncyIsImltZyIsImlubmVySFRNTCIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwibWFzb25yeSIsInNlbmQiLCJtc25yeSIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJNYXNvbnJ5IiwiY29sdW1uV2lkdGgiLCJndXR0ZXIiLCJpdGVtU2VsZWN0b3IiLCJwZXJjZW50UG9zaXRpb24iLCJzZWFyY2hQaWN0dXJlcyIsImV2ZW50IiwicmVxdWVzdCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImluaXRTbGlkZXIiLCJhcnJvd0xlZnQiLCJhcnJvd1JpZ2h0Iiwib25jbGljayIsInNsaWRlciIsImxlZnQiLCJyaWdodCIsIndpbmRvdyIsIkRPTUNvbnRlbnRMb2FkZWQiLCIkIiwiY2FsbGJhY2siLCJyZWFkeUJvdW5kIiwiaXNSZWFkeSIsIkRPTVJlYWR5Q2FsbGJhY2siLCJiaW5kUmVhZHkiLCJET01SZWFkeSIsImJvZHkiLCJzZXRUaW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwidG9wbGV2ZWwiLCJmcmFtZUVsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJkb1Njcm9sbCIsImRvU2Nyb2xsQ2hlY2siLCJlcnJvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImhvbGRlciIsInBhcmVudEVsZW1lbnQiLCJjdXJyZW50TWFyZ2luIiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwibWFyZ2luTGVmdCIsImN1cnJlbnRXaWR0aCIsIndpZHRoIiwicGVyY2VudCIsIk1hdGgiLCJyb3VuZCIsImFicyIsImRpc2NvdmVyQnRuIl0sIm1hcHBpbmdzIjoiQUFpS0EsUUFBU0EsY0FDUCxHQUFJQyxFQUNKLEtBQ0VBLEVBQVUsR0FBSUMsZUFBYyxrQkFDNUIsTUFBT0MsR0FDUCxJQUNFRixFQUFVLEdBQUlDLGVBQWMscUJBQzVCLE1BQU9FLEdBQ1BILEdBQVUsR0FNZCxNQUhLQSxJQUFrQyxtQkFBaEJJLGtCQUNyQkosRUFBVSxHQUFJSSxpQkFFVEosRUFJVCxRQUFTSyxhQUFZQyxHQUNwQixHQUFJTixHQUFVRCxhQUNWUSxFQUFNLG9DQUNOQyxFQUFNLGdDQUFrQ0QsRUFBTSxhQUUvQ0QsS0FDRkUsR0FBTyxNQUFRRixHQUdoQk4sRUFBUVMsS0FBSyxNQUFPRCxHQUFLLEdBQ3pCUixFQUFRVSxtQkFBcUIsV0FDMUIsR0FBMEIsR0FBdEJWLEVBQVFXLFlBQ1BYLEVBQVFZLFFBQVUsS0FBT0MsS0FBS0QsT0FBUyxJQUFLLENBQzNDLEdBQUlFLEdBQVdDLEtBQUtDLE1BQU1oQixFQUFRaUIsYUFDeENDLFNBQVFDLElBQUlMLEVBR1osS0FBSyxHQUZETSxHQUFZQyxTQUFTQyxpQkFBaUIsZUFFakNDLEVBQUksRUFBR0MsRUFBU0osRUFBVUksT0FBUUQsRUFBSUMsRUFBUUQsSUFBSSxDQUMxRCxHQUFJRSxHQUFNWCxFQUFTWSxLQUFLSCxHQUFHSSxhQUN2QnJCLEVBQU8sMEJBQTRCUSxFQUFTWSxLQUFLSCxHQUFHSyxLQUFPLE9BQzNEQyxFQUFNLFFBQVVKLEVBQU0sSUFDMUJMLEdBQVVHLEdBQUdPLFVBQVl4QixFQUN6QmMsRUFBVUcsR0FBR1EsTUFBTUMsZ0JBQWtCSCxFQUd0Q0ksWUFJSGpDLEVBQVFrQyxLQUFL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LE1BQU1ELEtBQUtFLElBQUlULEVBQWNJLEVBQWEsSUFDN0QsUUFBT0UsR0FDTCxJQUFLLEdBQ0hSLEVBQU85QyxNQUFNbUQsV0FBYSxPQUMxQixNQUNFLEtBQUssR0FDUEwsRUFBTzlDLE1BQU1tRCxXQUFhLE9BQzFCLE1BQ0YsS0FBSyxHQUNITCxFQUFPOUMsTUFBTW1ELFdBQWEsTUFrR3BDeEIsR0FBRSxXQUNjckQsYUFDZjRDLGFBRUEsSUFBSXdDLEdBQWNwRSxTQUFTZ0IsY0FBYyxvQkFFekNvRCxHQUFZckMsUUFBVVQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIGpRdWVyeSdzIGRvY3VtZW50LnJlYWR5LyQoZnVuY3Rpb24oKXt9KSBzaG91bGRcbiAgeW91IHdpc2ggdG8gdXNlIGEgY3Jvc3MtYnJvd3NlciBET01SZWFkeSBzb2x1dGlvbiBcbiAgd2l0aG91dCBvcHRpbmcgZm9yIGEgbGlicmFyeS5cbiAgRGVtbzogaHR0cDovL2pzZmlkZGxlLm5ldC85Q1d0ei9cbiAgdXNhZ2U6XG4gICQoZnVuY3Rpb24oKXtcbiAgICAgLy8geW91ciBjb2RlXG4gIH0pO1xuICBQYXJ0czogalF1ZXJ5IHByb2plY3QsIERpZWdvIFBlcmluaSwgTHVjZW50IE0uXG4gIFRoaXMgdmVyc2lvbjogQWRkeSBPc21hbmlcbiovXG4oZnVuY3Rpb24gKHdpbmRvdykge1xuICAvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mICRcbiAgdmFyICQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHJlYWR5Qm91bmQgPSBmYWxzZTtcbiAgICAgICQuaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIERPTVJlYWR5Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGJpbmRSZWFkeSgpO1xuICAgIH0sXG4gICAgLy8gVXNlIHRoZSBjb3JyZWN0IGRvY3VtZW50IGFjY29yZGluZ2x5IHdpdGggd2luZG93IGFyZ3VtZW50IChzYW5kYm94KVxuICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuICAgIHJlYWR5Qm91bmQgPSBmYWxzZSxcbiAgICBET01SZWFkeUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge30sXG4gICAgLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXJcbiAgICBET01Db250ZW50TG9hZGVkO1xuICAvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuICAkLmlzUmVhZHkgPSBmYWxzZTtcbiAgLy8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuICB2YXIgRE9NUmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgRE9NIGlzIG5vdCBhbHJlYWR5IGxvYWRlZFxuICAgICAgaWYgKCEkLmlzUmVhZHkpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIGJvZHkgZXhpc3RzLCBhdCBsZWFzdCwgaW4gY2FzZSBJRSBnZXRzIGEgbGl0dGxlIG92ZXJ6ZWFsb3VzICh0aWNrZXQgIzU0NDMpLlxuICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KERPTVJlYWR5LCAxMyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuICAgICAgICAkLmlzUmVhZHkgPSB0cnVlO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG4gICAgICAgIERPTVJlYWR5Q2FsbGJhY2soKTtcbiAgICAgICAgLy8gRXhlY3V0ZSBhbGwgb2YgdGhlbVxuICAgICAgfVxuICAgIH0gLy8gL3JlYWR5KClcbiAgdmFyIGJpbmRSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZWFkeUJvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlYWR5Qm91bmQgPSB0cnVlO1xuICAgICAgLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJCBpcyBjYWxsZWQgYWZ0ZXIgdGhlXG4gICAgICAvLyBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICBET01SZWFkeSgpO1xuICAgICAgfVxuICAgICAgLy8gTW96aWxsYSwgT3BlcmEgYW5kIHdlYmtpdCBuaWdodGxpZXMgY3VycmVudGx5IHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBET01Db250ZW50TG9hZGVkLCBmYWxzZSk7XG4gICAgICAgIC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBET01Db250ZW50TG9hZGVkLCBmYWxzZSk7XG4gICAgICAgIC8vIElmIElFIGV2ZW50IG1vZGVsIGlzIHVzZWRcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgLy8gZW5zdXJlIGZpcmluZyBiZWZvcmUgb25sb2FkLFxuICAgICAgICAvLyBtYXliZSBsYXRlIGJ1dCBzYWZlIGFsc28gZm9yIGlmcmFtZXNcbiAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiwgRE9NQ29udGVudExvYWRlZCk7XG4gICAgICAgIC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLCBET01Db250ZW50TG9hZGVkKTtcbiAgICAgICAgLy8gSWYgSUUgYW5kIG5vdCBhIGZyYW1lXG4gICAgICAgIC8vIGNvbnRpbnVhbGx5IGNoZWNrIHRvIHNlZSBpZiB0aGUgZG9jdW1lbnQgaXMgcmVhZHlcbiAgICAgICAgdmFyIHRvcGxldmVsID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdG9wbGV2ZWwgPSB3aW5kb3cuZnJhbWVFbGVtZW50ID09IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgJiYgdG9wbGV2ZWwpIHtcbiAgICAgICAgICBkb1Njcm9sbENoZWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAvYmluZFJlYWR5KClcbiAgLy8gVGhlIERPTSByZWFkeSBjaGVjayBmb3IgSW50ZXJuZXQgRXhwbG9yZXJcbiAgdmFyIGRvU2Nyb2xsQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJC5pc1JlYWR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIElmIElFIGlzIHVzZWQsIHVzZSB0aGUgdHJpY2sgYnkgRGllZ28gUGVyaW5pXG4gICAgICAgIC8vIGh0dHA6Ly9qYXZhc2NyaXB0Lm53Ym94LmNvbS9JRUNvbnRlbnRMb2FkZWQvXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzZXRUaW1lb3V0KGRvU2Nyb2xsQ2hlY2ssIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBhbmQgZXhlY3V0ZSBhbnkgd2FpdGluZyBmdW5jdGlvbnNcbiAgICAgIERPTVJlYWR5KCk7XG4gICAgfSAvLyAvZG9TY3JvbGxDaGVjaygpXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbnMgZm9yIHRoZSBkb2N1bWVudCByZWFkeSBtZXRob2RcbiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBET01Db250ZW50TG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgRE9NQ29udGVudExvYWRlZCwgZmFsc2UpO1xuICAgICAgRE9NUmVhZHkoKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgRE9NQ29udGVudExvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSBib2R5IGV4aXN0cywgYXQgbGVhc3QsIGluIGNhc2UgSUUgZ2V0cyBhIGxpdHRsZSBvdmVyemVhbG91cyAodGlja2V0ICM1NDQzKS5cbiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiwgRE9NQ29udGVudExvYWRlZCk7XG4gICAgICAgIERPTVJlYWR5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSAvLyAvaWYoKVxuICAvLyBFeHBvc2UgJCB0byB0aGUgZ2xvYmFsIG9iamVjdFxuICB3aW5kb3cuJCA9ICQ7XG59KSh3aW5kb3cpO1xuXG47XG4gIHZhciBzbGlkZXIgPSB7XG4gICAgbGVmdDogZnVuY3Rpb24oKSB7XG4gICAgICBcbiAgICAgIHZhciBob2xkZXIgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsX19ob2xkZXInKTtcbiAgICAgIHZhciBjdXJyZW50TWFyZ2luID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShob2xkZXIpLm1hcmdpbkxlZnQpO1xuICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoaG9sZGVyKS53aWR0aCk7XG4gICAgICB2YXIgcGVyY2VudCA9IE1hdGgucm91bmQoTWF0aC5hYnMoY3VycmVudE1hcmdpbi9jdXJyZW50V2lkdGgqMTApKTtcbiAgICAgIHN3aXRjaChwZXJjZW50KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBob2xkZXIuc3R5bGUubWFyZ2luTGVmdCA9ICctMjAwJSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaG9sZGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnMCUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgaG9sZGVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnLTEwMCUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvbGRlciA9IHRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWxfX2hvbGRlcicpO1xuICAgICAgdmFyIGN1cnJlbnRNYXJnaW4gPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGhvbGRlcikubWFyZ2luTGVmdCk7XG4gICAgICB2YXIgY3VycmVudFdpZHRoID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShob2xkZXIpLndpZHRoKTtcbiAgICAgIHZhciBwZXJjZW50ID0gTWF0aC5yb3VuZChNYXRoLmFicyhjdXJyZW50TWFyZ2luL2N1cnJlbnRXaWR0aCoxMCkpO1xuICAgICAgc3dpdGNoKHBlcmNlbnQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGhvbGRlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0xMDAlJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBob2xkZXIuc3R5bGUubWFyZ2luTGVmdCA9ICctMjAwJSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBob2xkZXIuc3R5bGUubWFyZ2luTGVmdCA9ICcwJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICAvL2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCl7XG4gIC8vICQoZnVuY3Rpb24oKXtcbiAgLy8gICBpbml0U2xpZGVyKCk7XG5cbiAgLy8gICBjb25zb2xlLmxvZygnc2xpZGVyJyk7XG5cbmZ1bmN0aW9uIGdldFhtbEh0dHAoKXtcbiAgdmFyIHhtbGh0dHA7XG4gIHRyeSB7XG4gICAgeG1saHR0cCA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgeG1saHR0cCA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIik7XG4gICAgfSBjYXRjaCAoRSkge1xuICAgICAgeG1saHR0cCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoIXhtbGh0dHAgJiYgdHlwZW9mIFhNTEh0dHBSZXF1ZXN0IT0ndW5kZWZpbmVkJykge1xuICAgIHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgfVxuICByZXR1cm4geG1saHR0cDtcbn1cblxuXG5mdW5jdGlvbiBnZXRQaWN0dXJlcyh3b3JkKXtcblx0dmFyIHhtbGh0dHAgPSBnZXRYbWxIdHRwKCk7XG5cdHZhciBrZXkgPSAnMzU0NTgyNS1jNjBiYzcxYWMwYTJhNzFhYmQzZTM2OTEzJztcblx0dmFyIHVybCA9ICdodHRwczovL3BpeGFiYXkuY29tL2FwaS8/a2V5PScgKyBrZXkgKyAnJnBlcl9wYWdlPTcnO1xuXHQvL3ZhciB1cmwgPSAnaHR0cHM6Ly9hcGkucmlmZnN5LmNvbS92MS9zZWFyY2g/a2V5PUxJVkRTUlpVTEVMQSZsaW1pdD03Jztcblx0aWYod29yZCl7XG5cdFx0dXJsICs9ICcmcT0nICsgd29yZDtcblx0fVxuXHQvLyBjb25zb2xlLmxvZyh1cmwpO1xuXHR4bWxodHRwLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cdHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdCAgXHRpZiAoeG1saHR0cC5yZWFkeVN0YXRlID09IDQpIHtcblx0ICAgIFx0aWYoeG1saHR0cC5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgNDAwKSB7XG5cdCAgICBcdCAgIFx0dmFyIHBpY3R1cmVzID0gSlNPTi5wYXJzZSh4bWxodHRwLnJlc3BvbnNlVGV4dCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKHBpY3R1cmVzKTtcblx0XHRcdFx0dmFyIGdyaWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ncmlkX19pdGVtJyk7XG5cblx0XHRcdFx0Zm9yKCB2YXIgaSA9IDAsIGxlbmd0aCA9IGdyaWRJdGVtcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0dmFyIHNyYyA9IHBpY3R1cmVzLmhpdHNbaV0ud2ViZm9ybWF0VVJMO1xuXHRcdFx0XHRcdHZhciB3b3JkID0gJzxwIGNsYXNzPVwiZ3JpZF9fdGl0bGVcIj4nICsgcGljdHVyZXMuaGl0c1tpXS50YWdzICsgJzwvcD4nO1xuXHRcdFx0XHRcdHZhciBpbWcgPSAndXJsKFwiJyArIHNyYyArICdcIiknO1xuXHRcdFx0XHRcdGdyaWRJdGVtc1tpXS5pbm5lckhUTUwgPSB3b3JkO1xuXHRcdFx0XHRcdGdyaWRJdGVtc1tpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBpbWc7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cod29yZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bWFzb25yeSgpO1xuXHQgICAgXHR9XG5cdCAgXHR9XG5cdH07XG5cdHhtbGh0dHAuc2VuZChudWxsKTtcbn07XG5cbmZ1bmN0aW9uIG1hc29ucnkoKXtcblx0dmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XG5cdHZhciBtc25yeTtcbiAgbXNucnkgPSBuZXcgTWFzb25yeSggY29udGFpbmVyLCB7XG4gIGNvbHVtbldpZHRoOiAnLmdyaWRfX3NpemVyJyxcbiBcdGd1dHRlcjogJy5ncmlkX19ndXR0ZXInLFxuICBpdGVtU2VsZWN0b3I6ICcuZ3JpZF9faXRlbScsXG4gXHRwZXJjZW50UG9zaXRpb246IHRydWUsXG59KTtcbn1cblxuZnVuY3Rpb24gc2VhcmNoUGljdHVyZXMoZXZlbnQpIHtcblx0dmFyIHJlcXVlc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlzY292ZXJfX2lucHV0Jyk7XG5cdGdldFBpY3R1cmVzKHJlcXVlc3QudmFsdWUpO1xuXHRyZXF1ZXN0LnZhbHVlID0gJyc7XG5cdGV2ZW50LnByZXZlbnREZWZhdWx0ID8gZXZlbnQucHJldmVudERlZmF1bHQoKSA6IChldmVudC5yZXR1cm5WYWx1ZT1mYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGluaXRTbGlkZXIoKXtcbiAgICAgIHZhciBhcnJvd0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWxfX2Fycm93LS1sZWZ0Jyk7XG4gICAgICB2YXIgYXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbF9fYXJyb3ctLXJpZ2h0Jyk7XG4gICAgICBcbiAgICAgIGZvciAodmFyIGk9MDtpPGFycm93TGVmdC5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgLy8gYXJyb3dMZWZ0W2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzbGlkZXIubGVmdCk7XG4gICAgICAgICAgICAgIGFycm93TGVmdFtpXS5vbmNsaWNrID0gc2xpZGVyLmxlZnQ7XG4gICAgLy8gYWxlcnQoICfQmtC70LjQuiEnICk7fVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpPTA7aTxhcnJvd1JpZ2h0Lmxlbmd0aDtpKyspe1xuICAgICAgICAgICAgICAvL2Fycm93UmlnaHRbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNsaWRlci5yaWdodCk7XG4gICAgICAgICAgICAgIGFycm93UmlnaHRbaV0ub25jbGljayA9IHNsaWRlci5yaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4vL2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCl7XG4kKGZ1bmN0aW9uKCl7XG5cdHZhciBwaWN0dXJlcyA9IGdldFBpY3R1cmVzKCk7XG5cdGluaXRTbGlkZXIoKTtcblxuXHR2YXIgZGlzY292ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlzY292ZXJfX2J1dHRvbicpO1xuXHQvL2Rpc2NvdmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZWFyY2hQaWN0dXJlcyk7XG5cdGRpc2NvdmVyQnRuLm9uY2xpY2sgPSBzZWFyY2hQaWN0dXJlcztcblxuICAgIFxuXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
